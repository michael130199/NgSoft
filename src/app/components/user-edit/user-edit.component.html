
<div class="container">

  <h1 class="text-center">{{title}}</h1>

  <div class="row justify-content-center">

      <div class="col-md-10">
          
          <form #userEditForm="ngForm" 
              (ngSubmit)="onSubmit()">

              <div class="row">

                  <div class="col-md-6">

                      <label for="name">Nombre</label>

                      <input type="text" 
                          name="name" 
                          #name="ngModel"
                          [(ngModel)]="user.name" 
                          id="name" 
                          class="form-control" 
                          required>

                      <span *ngIf="!name.valid && name.touched">
                          El nombre es obligatorio
                      </span>

                  </div>

                  <div class="col-md-6">

                      <label for="surname">Apellido</label>

                      <input type="text" 
                          name="surname" 
                          #surname="ngModel"
                          [(ngModel)]="user.surname"
                          id="surname" 
                          class="form-control" 
                          required>

                      <span *ngIf="!surname.valid && surname.touched">
                          El apellido es obligatorio
                      </span>

                  </div>

              </div>

              <div class="row">

                  <div class="col-md-12">

                      <label for="email">Email</label>

                      <input type="text" 
                          name="email" 
                          #email="ngModel"
                          [(ngModel)]="user.email"
                          class="form-control" 
                          id="email" 
                          required>

                      <span *ngIf="!email.valid && email.touched">
                          El email es obligatorio
                      </span>

                  </div>

              </div>

              <div class="row image_for_edit" *ngIf="user.image && user.image != 'null'">
                <div class="col-md-12">
                  <img src="{{url + 'get-image-file/' + user.image }}" 
                    class="image">
                </div>
              </div>

              <div class="row">

                <div class="col-md-12">

                    <label for="avatar">Sube tu avatar</label>

                    <input type="file" 
                        name="avatar"
                        class="form-control" 
                        id="avatar"
                        (change)="fileChangeEvent($event)">

                    <span *ngIf="!email.valid && email.touched">
                        El email es obligatorio
                    </span>

                </div>

            </div>
              
              <hr class="mb-3">

              <button class="btn btn-success btn-lg btn-block" 
                  type="submit"
                  [disabled]="!userEditForm.form.valid">
                  Actualizar
              </button>

          </form>

      </div>
  </div>

  <div class="row justify-content-center" *ngIf="status">

      <div class="col-md-10">

          <hr class="mb-3">

          <div class="alert alert-success" *ngIf="status == 'success'">
              Has actualizado tus datos correctamente
          </div>

          <div class="alert alert-danger" *ngIf="status == 'error'">
              {{ message }}
          </div>

      </div>
  </div>

</div>